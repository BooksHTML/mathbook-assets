// Typography
@import "compass";
@import "ui";

@mixin typography() {
    body {
        font-family:$font-family-base;
    }

    @include typography-link();
    @include typography-headings();
    @include typography-paragraph();
    @include typography-blockquote();
    @include typography-code();
    @include typography-code-inline();
    @include typography-lists();
}

// TODO does this belong here?
@mixin typography-link() {
    a {
        @include ui-link();
    }
}

@mixin typography-headings() {
    // Based on Twitter Bootstrap
    h1, h2, h3, h4, h5, h6,
    .h1, .h2, .h3, .h4, .h5, .h6 {
        font-family: $headings-font-family;
        font-weight: $headings-font-weight;
        line-height: $headings-line-height;
        color: $headings-color;

        small,
        .small {
            font-weight: normal;
            line-height: 1;
        }
    }

    h1, .h1,
    h2, .h2,
    h3, .h3 {
        margin-top: $line-height-computed;
        margin-bottom: ($line-height-computed / 2);

        small,
        .small {
            font-size: 65%;
        }
    }
    h4, .h4,
    h5, .h5,
    h6, .h6 {
        margin-top: ($line-height-computed / 2);
        margin-bottom: ($line-height-computed / 2);

        small,
        .small {
            font-size: 75%;
        }
    }

    h1, .h1 { font-size: $font-size-h1; }
    h2, .h2 { font-size: $font-size-h2; }
    h3, .h3 { font-size: $font-size-h3; }
    h4, .h4 { font-size: $font-size-h4; }
    h5, .h5 { font-size: $font-size-h5; }
    h6, .h6 { font-size: $font-size-h6; }

}

@mixin typography-paragraph() {
    p {
        margin: 0 0 #{$line-height-em/2}em;
    }

    .lead {
        margin-bottom: $line-height-computed;
        font-size: floor(($font-size-base * 1.15));
        font-weight: 200;
        line-height: 1.4;

        @media (min-width: $screen-sm-min) {
            font-size: ($font-size-base * 1.5);
        }
    }

}

@mixin typography-blockquote() {
    blockquote, .blockquote, .quote {
        padding-left:40px;
        padding-right:10px;
    }
}

// Code blocks
@mixin typography-code(
    $font-family: $font-family-monospace, 
    $bg-color: $pre-bg, 
    $border-color: $pre-border-color, 
    $color: $pre-color
) {
    pre,
    code,
    kbd,
    samp,
    .code,
    pre *, // Hackz to get around beezer-addon.css *{} font defn 
    code *,
    kbd *,
    samp *, 
    .code * {
        font-family: $font-family;
    }

    // TODO remove this when we can modify beezer-addon.css
    // Hack to get around beezer-addon.css's *{} font defn.
    .CodeMirror * {
        font-family:$font-family;
    }



    pre, .CodeMirror, .sagecell .CodeMirror {
        padding: (($line-height-computed - 1) / 2);
        line-height: 1;
        background: $bg-color;
        color: $color;
        border:1px solid $border-color;
        word-break: break-all;
        word-wrap: break-word;
        @include border-radius($border-radius-base);

        // Account for some code outputs that place code tags in pre tags
        code {
            padding: 0;
            font-size: inherit;
            color: inherit;
            white-space: pre-wrap;
            background-color: transparent;
            border-radius: 0;
        }
    }

    .CodeMirror, .sagecell .CodeMirror {
        padding:0;
    }
}

// Inline code
@mixin typography-code-inline(
    $bg-color: $gray-lighter, 
    $border-color: $gray-light
) {

    p code, .code {
        margin:0 1px; // override beezer.css
        padding: 0px 5px;
        font-size: 80%;
        white-space: nowrap;
        background: $bg-color;
        @include border-radius($border-radius-small);
        border:1px solid $border-color;
    }
}

// Adapted from twitter bootstrap
@mixin typography-lists() {
    // Unordered and Ordered lists
    ul,
    ol {
        margin-top: 0;
        margin-bottom: ($line-height-computed / 2);
        ul,
        ol {
            margin-bottom: 0;
        }
    }

    // List options

    // Unstyled keeps list items block level, 
    // just removes default browser padding and list-style
    .list-unstyled {
        padding-left: 0;
        list-style: none;
    }

    // Inline turns list items into inline-block
    .list-inline {
        @extend .list-unstyled;

        > li {
            display: inline-block;
            padding-left: 5px;
            padding-right: 5px;

            &:first-child {
                padding-left: 0;
            }
        }
    }

    // Description Lists
    dl {
        margin-top: 0; // Remove browser default
        margin-bottom: $line-height-computed;
    }
    dt,
    dd {
        line-height: $line-height-base;
    }
    dt {
        font-weight: bold;
    }
    dd {
        margin-left: 0; // Undo browser default
    }
}


