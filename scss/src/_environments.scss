/*******************************************************************************
 * Environments
 ******************************************************************************/

// Note: in Sass the %selector is a special selector that has no output 
// unless used in an @extend directive.

/* Common environment properties */
%standard-environment {
    @include heading {
        font-size: $font-size-h5;

        .type:after {
            content: " ";
        }

        &:after { 
            content: ". ";
        }
    }
    // TODO what is this?!
    font-size: 1.05em;
    margin:$line-height-em 0;
}

/* Environments with inline headings */
%heading-inline {
    @include heading {
        display:inline;

        // So that the header is inline with paragraph text 
        & + p {
            display:inline;
        }
    }
}

/* Styles for hints */
%hint-container {
    .hint {
        display:block;

        [knowl] {
            font-weight:lighter;
        }
    }
}

.definition-like {
    @extend %heading-inline;
    @extend %standard-environment;

    @include heading {
        font-weight:bold;
    }
}

.theorem-like {
    @extend .definition-like;

    @include heading {
        font-weight:bold;

        .type {
            content: " ";
        }

        .codenumber:after {
            content: ". ";
        }
    }

    /* TODO remove ol and ul when possible */
    p, ol, ul {
        font-style: italic;
    }

    .statement {
        p:first-child {
            display:inline;
        }

        &:last-child, &:last-of-type {
            margin-bottom:0;
        }
    }
}

.proof {
    @extend %heading-inline;
    @extend %standard-environment;

    /* Dotted border to denote proof */
    padding-right: 6px;
    border-right: 1px dotted #aaa;
    padding-bottom: -5px;

    @include heading {
        font-style:italic;

        .type:after {
            content: ". ";
        }

        &:after { 
            content: ". ";
        }
    }

    &:after {
        content:"\220E";
        display:block;
        text-align:right;

        // From addon
        margin-top: -15px;
        margin-bottom: 5px;
        margin-right: -7px;
    }
}

.remark-like {
    @extend .definition-like;
}

.example-like {
    @extend .definition-like;
    @extend %hint-container;
}

.exercise-like {
    @extend .definition-like;
    @extend %hint-container;

}

.aside-like {
    padding: 8px 15px 10px 15px;
    margin: 5px 0px 5px 10px;
    background-color: rgb(245,250,255);
    border: 2px solid rgb(220,235,250);

    .aside-like {
        background-color: rgb(250,255,245);
        border: 1px dotted #aaa;
    }
}

.exercise-like {
    @include heading {
        display:inline;
        //font-family:inherit;
        font-size: $font-size-h5;

        font-weight:normal;
        font-style:normal;

        .counter:after, .title:after {
            content: ". ";
        }

        // So that the header is inline with paragraph text 
        & + p {
            display:inline;
        }
    }
}
